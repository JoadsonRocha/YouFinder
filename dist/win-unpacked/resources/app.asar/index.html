<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>YouFinder</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="theme-dark">
  <header>
    <h1>YouFinder üé¨</h1>
    <div class="search-bar">
      <input id="query" type="text" placeholder="Pesquisar v√≠deos...">
      <button onclick="handleSearch()">Buscar üîç</button>
    </div>
    <button id="btnConfig" class="btn-config">‚öôÔ∏è</button>
  </header>

  <main>
    <div id="resultados" class="results"></div>
  </main>

  <footer>
    <p>Desenvolvido com ‚ù§Ô∏è por Joadson Rocha</p>
  </footer>

  <div id="modalConfig" class="modal-bg">
    <div class="modal">
      <h2>Configura√ß√µes</h2>
      <div class="option">
        <label>Modo Projetor (fullscreen)</label>
        <input type="checkbox" id="cfg_projetor">
      </div>
      <div class="option">
        <label>AdBlock (remover an√∫ncios)</label>
        <input type="checkbox" id="cfg_adblock" checked>
      </div>
      <div class="option">
        <label>Modo Light</label>
        <input type="checkbox" id="cfg_modo_claro">
      </div>
      <button id="btnFecharModal">Fechar</button>
    </div>
  </div>

  <script>
    function loadConfig() {
      const cfg = window.config.get();
      document.getElementById("cfg_projetor").checked = !!cfg.abrirNoProjetor;
      document.getElementById("cfg_adblock").checked = cfg.adblockForte !== false;
      document.getElementById("cfg_modo_claro").checked = !!cfg.modoClaro;
      document.body.className = cfg.modoClaro ? "theme-light" : "theme-dark";
    }

    function saveConfig() {
      const modoClaro = document.getElementById("cfg_modo_claro").checked;
      document.body.className = modoClaro ? "theme-light" : "theme-dark";
      window.config.set({
        abrirNoProjetor: document.getElementById("cfg_projetor").checked,
        adblockForte: document.getElementById("cfg_adblock").checked,
        modoClaro: modoClaro
      });
    }

    document.getElementById("btnConfig").onclick = () => {
      loadConfig();
      document.getElementById("modalConfig").style.display = "flex";
    };

    document.getElementById("btnFecharModal").onclick = () => {
      saveConfig();
      document.getElementById("modalConfig").style.display = "none";
    };

    document.getElementById("modalConfig").onclick = (e) => {
      if (e.target.id === "modalConfig") {
        saveConfig();
        document.getElementById("modalConfig").style.display = "none";
      }
    };

    document.addEventListener("DOMContentLoaded", () => {
      const cfg = window.config.get();
      document.body.className = cfg.modoClaro ? "theme-light" : "theme-dark";
    });
  </script>

  <script src="renderer.js"></script>
</body>
</html>